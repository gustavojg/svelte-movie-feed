import{S as a,i as e,s as t,l as s,a as r,e as l,t as c,q as i,d as o,c as n,b as h,f as d,g as f,h as v,j as u,k as p,n as m,o as E,r as g,u as b,v as k,w as _}from"./client.a49be253.js";import{a as w,c as y,b as P}from"./urlFormat.9bf4c53a.js";function I(a,e,t){const s=a.slice();return s[4]=e[t],s}function D(a){let e,t,s=a[3].message+"";return{c(){e=l("p"),t=c(s),this.h()},l(a){e=h(a,"P",{style:!0});var r=d(e);t=f(r,s),r.forEach(o),this.h()},h(){g(e,"color","red")},m(a,s){u(a,e,s),p(e,t)},p(a,e){1&e&&s!==(s=a[3].message+"")&&b(t,s)},d(a){a&&o(e)}}}function R(a){let e,t=a[2],s=[];for(let e=0;e<t.length;e+=1)s[e]=V(I(a,t,e));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=k()},l(a){for(let e=0;e<s.length;e+=1)s[e].l(a);e=k()},m(a,t){for(let e=0;e<s.length;e+=1)s[e].m(a,t);u(a,e,t)},p(a,r){if(1&r){let l;for(t=a[2],l=0;l<t.length;l+=1){const c=I(a,t,l);s[l]?s[l].p(c,r):(s[l]=V(c),s[l].c(),s[l].m(e.parentNode,e))}for(;l<s.length;l+=1)s[l].d(1);s.length=t.length}},d(a){_(s,a),a&&o(e)}}}function V(a){let e,t,s,i,m,E,k,_,w,y,I,D,R,V,x,A,T,O,$,j,L,M,N,q,H,F,Y,S,U,z,B,C,G,J,K,Q,W,X,Z,aa,ea,ta,sa,ra,la,ca,ia,oa,na,ha,da,fa,va,ua,pa,ma,Ea,ga,ba,ka,_a,wa=a[4].display_title+"",ya=a[4].summary_short+"",Pa=a[4].byline+"",Ia=a[4].opening_date+"",Da=a[4].publication_date+"",Ra=a[4].date_updated+"",Va=a[4].link.suggested_link_text+"";return{c(){e=l("div"),t=l("div"),s=l("header"),i=l("p"),m=l("a"),E=c(wa),_=r(),w=l("div"),y=l("p"),I=c(ya),D=r(),R=l("p"),V=l("a"),x=c(Pa),T=r(),O=l("footer"),$=l("nav"),j=l("div"),L=l("div"),M=l("p"),N=c("Opening"),q=r(),H=l("p"),F=l("time"),Y=c(Ia),U=r(),z=l("div"),B=l("div"),C=l("p"),G=c("Publication"),J=r(),K=l("p"),Q=l("time"),W=c(Da),Z=r(),aa=l("div"),ea=l("div"),ta=l("p"),sa=c("Updated"),ra=r(),la=l("p"),ca=l("time"),ia=c(Ra),na=r(),ha=l("p"),da=l("span"),fa=l("a"),va=c(Va),pa=r(),ma=l("footer"),Ea=l("a"),ga=c("Read the complete Review"),ka=r(),_a=l("hr"),this.h()},l(a){e=h(a,"DIV",{class:!0});var r=d(e);t=h(r,"DIV",{class:!0});var l=d(t);s=h(l,"HEADER",{class:!0});var c=d(s);i=h(c,"P",{class:!0});var v=d(i);m=h(v,"A",{href:!0,target:!0});var u=d(m);E=f(u,wa),u.forEach(o),v.forEach(o),c.forEach(o),_=n(l),w=h(l,"DIV",{class:!0});var p=d(w);y=h(p,"P",{class:!0});var g=d(y);I=f(g,ya),g.forEach(o),D=n(p),R=h(p,"P",{class:!0});var b=d(R);V=h(b,"A",{href:!0});var k=d(V);x=f(k,Pa),k.forEach(o),b.forEach(o),p.forEach(o),T=n(l),O=h(l,"FOOTER",{class:!0});var P=d(O);$=h(P,"NAV",{class:!0});var A=d($);j=h(A,"DIV",{class:!0});var S=d(j);L=h(S,"DIV",{});var X=d(L);M=h(X,"P",{class:!0});var oa=d(M);N=f(oa,"Opening"),oa.forEach(o),q=n(X),H=h(X,"P",{class:!0});var ua=d(H);F=h(ua,"TIME",{datetime:!0});var ba=d(F);Y=f(ba,Ia),ba.forEach(o),ua.forEach(o),X.forEach(o),S.forEach(o),U=n(A),z=h(A,"DIV",{class:!0});var xa=d(z);B=h(xa,"DIV",{});var Aa=d(B);C=h(Aa,"P",{class:!0});var Ta=d(C);G=f(Ta,"Publication"),Ta.forEach(o),J=n(Aa),K=h(Aa,"P",{class:!0});var Oa=d(K);Q=h(Oa,"TIME",{datetime:!0});var $a=d(Q);W=f($a,Da),$a.forEach(o),Oa.forEach(o),Aa.forEach(o),xa.forEach(o),Z=n(A),aa=h(A,"DIV",{class:!0});var ja=d(aa);ea=h(ja,"DIV",{});var La=d(ea);ta=h(La,"P",{class:!0});var Ma=d(ta);sa=f(Ma,"Updated"),Ma.forEach(o),ra=n(La),la=h(La,"P",{class:!0});var Na=d(la);ca=h(Na,"TIME",{datetime:!0});var qa=d(ca);ia=f(qa,Ra),qa.forEach(o),Na.forEach(o),La.forEach(o),ja.forEach(o),A.forEach(o),na=n(P),ha=h(P,"P",{class:!0});var Ha=d(ha);da=h(Ha,"SPAN",{});var Fa=d(da);fa=h(Fa,"A",{href:!0,target:!0});var Ya=d(fa);va=f(Ya,Va),Ya.forEach(o),Fa.forEach(o),Ha.forEach(o),P.forEach(o),pa=n(l),ma=h(l,"FOOTER",{class:!0});var Sa=d(ma);Ea=h(Sa,"A",{href:!0,target:!0,class:!0});var Ua=d(Ea);ga=f(Ua,"Read the complete Review"),Ua.forEach(o),Sa.forEach(o),l.forEach(o),r.forEach(o),ka=n(a),_a=h(a,"HR",{style:!0}),this.h()},h(){v(m,"href",k=a[4].link.url),v(m,"target","_blank"),v(i,"class","card-header-title"),v(s,"class","card-header"),v(y,"class","title"),v(V,"href",A=`/reviews/${P(a[4].byline)}/`),v(R,"class","subtitle"),v(w,"class","card-content"),v(M,"class","heading"),v(F,"datetime",S=a[4].opening_date),v(H,"class","subtitle"),v(j,"class","level-item has-text-centered is-hidden-mobile"),v(C,"class","heading"),v(Q,"datetime",X=a[4].publication_date),v(K,"class","subtitle"),v(z,"class","level-item has-text-centered"),v(ta,"class","heading"),v(ca,"datetime",oa=a[4].date_updated),v(la,"class","subtitle"),v(aa,"class","level-item has-text-centered"),v($,"class","level card-footer-item"),v(fa,"href",ua=a[4].link.url),v(fa,"target","_blank"),v(ha,"class","card-footer-item is-hidden-mobile"),v(O,"class","card-footer"),v(Ea,"href",ba=a[4].link.url),v(Ea,"target","_blank"),v(Ea,"class","button is-black is-medium is-fullwidth"),v(ma,"class","card-footer is-hidden-desktop"),v(t,"class","card"),v(e,"class","container"),g(_a,"margin","0 0 3rem")},m(a,r){u(a,e,r),p(e,t),p(t,s),p(s,i),p(i,m),p(m,E),p(t,_),p(t,w),p(w,y),p(y,I),p(w,D),p(w,R),p(R,V),p(V,x),p(t,T),p(t,O),p(O,$),p($,j),p(j,L),p(L,M),p(M,N),p(L,q),p(L,H),p(H,F),p(F,Y),p($,U),p($,z),p(z,B),p(B,C),p(C,G),p(B,J),p(B,K),p(K,Q),p(Q,W),p($,Z),p($,aa),p(aa,ea),p(ea,ta),p(ta,sa),p(ea,ra),p(ea,la),p(la,ca),p(ca,ia),p(O,na),p(O,ha),p(ha,da),p(da,fa),p(fa,va),p(t,pa),p(t,ma),p(ma,Ea),p(Ea,ga),u(a,ka,r),u(a,_a,r)},p(a,e){1&e&&wa!==(wa=a[4].display_title+"")&&b(E,wa),1&e&&k!==(k=a[4].link.url)&&v(m,"href",k),1&e&&ya!==(ya=a[4].summary_short+"")&&b(I,ya),1&e&&Pa!==(Pa=a[4].byline+"")&&b(x,Pa),1&e&&A!==(A=`/reviews/${P(a[4].byline)}/`)&&v(V,"href",A),1&e&&Ia!==(Ia=a[4].opening_date+"")&&b(Y,Ia),1&e&&S!==(S=a[4].opening_date)&&v(F,"datetime",S),1&e&&Da!==(Da=a[4].publication_date+"")&&b(W,Da),1&e&&X!==(X=a[4].publication_date)&&v(Q,"datetime",X),1&e&&Ra!==(Ra=a[4].date_updated+"")&&b(ia,Ra),1&e&&oa!==(oa=a[4].date_updated)&&v(ca,"datetime",oa),1&e&&Va!==(Va=a[4].link.suggested_link_text+"")&&b(va,Va),1&e&&ua!==(ua=a[4].link.url)&&v(fa,"href",ua),1&e&&ba!==(ba=a[4].link.url)&&v(Ea,"href",ba)},d(a){a&&o(e),a&&o(ka),a&&o(_a)}}}function x(a){let e,t;return{c(){e=l("p"),t=c("...waiting")},l(a){e=h(a,"P",{});var s=d(e);t=f(s,"...waiting"),s.forEach(o)},m(a,s){u(a,e,s),p(e,t)},p:m,d(a){a&&o(e)}}}function A(a){let e,t,E,g,b,k,_,w,y={ctx:a,current:null,token:null,pending:x,then:R,catch:D,value:2,error:3};return s(w=a[0],y),{c(){e=r(),t=l("div"),E=l("header"),g=l("div"),b=l("h1"),k=c("New York Times Movie Reviews"),_=r(),y.block.c(),this.h()},l(a){i('[data-svelte="svelte-1oxw8qd"]',document.head).forEach(o),e=n(a),t=h(a,"DIV",{class:!0});var s=d(t);E=h(s,"HEADER",{class:!0});var r=d(E);g=h(r,"DIV",{class:!0});var l=d(g);b=h(l,"H1",{class:!0});var c=d(b);k=f(c,"New York Times Movie Reviews"),c.forEach(o),l.forEach(o),r.forEach(o),_=n(s),y.block.l(s),s.forEach(o),this.h()},h(){document.title="Review",v(b,"class","title"),v(g,"class","bd-header-titles"),v(E,"class","bd-header"),v(t,"class","bd-main-container container")},m(a,s){u(a,e,s),u(a,t,s),p(t,E),p(E,g),p(g,b),p(b,k),p(t,_),y.block.m(t,y.anchor=null),y.mount=(()=>t),y.anchor=null},p(e,[t]){if(a=e,y.ctx=a,1&t&&w!==(w=a[0])&&s(w,y));else{const e=a.slice();e[2]=y.resolved,y.block.p(e,t)}},i:m,o:m,d(a){a&&o(e),a&&o(t),y.block.d(),y.token=null,y=null}}}async function T({path:a,query:e,params:t}){const s=await this.fetch(`https://api.nytimes.com/svc/movies/v2/reviews/search.json?api-key=${w}&critics-pick=Y&query=${y(t.slug[1])}&reviewer=${y(t.slug[0])}&order=by-publication-date`),r=await s.json();if(r){return{articleList:r.results}}throw new Error(r)}function O(a,e,t){let{articleList:s}=e;return E(()=>{}),a.$set=(a=>{"articleList"in a&&t(0,s=a.articleList)}),[s]}export default class extends a{constructor(a){super(),e(this,a,O,A,t,{articleList:0})}}export{T as preload};

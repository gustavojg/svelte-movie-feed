import{r as e,u as a,_ as t,a as r,i as s,s as n,b as c,S as i,v as o,c as l,e as f,t as u,q as h,d,f as v,g as p,h as m,j as E,k as g,l as b,m as k,w,n as y,x as I,y as _,o as x,p as P,z as D,A as R,B as L,C as A,D as V}from"./client.cfb4b258.js";import{a as N,g as O,b as S}from"./urlFormat.f9eed3b1.js";function T(e){return function(){var a,t=x(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var r=x(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return P(this,a)}}var M=D.document;function j(e,a,t){var r=e.slice();return r[4]=a[t],r}function H(e){var a,t,r=e[3].message+"";return{c:function(){a=f("p"),t=u(r),this.h()},l:function(e){a=p(e,"P",{style:!0});var s=m(a);t=E(s,r),s.forEach(d),this.h()},h:function(){R(a,"color","red")},m:function(e,r){b(e,a,r),k(a,t)},p:function(e,a){1&a&&r!==(r=e[3].message+"")&&L(t,r)},d:function(e){e&&d(a)}}}function q(e){for(var a,t=e[2],r=[],s=0;s<t.length;s+=1)r[s]=F(j(e,t,s));return{c:function(){for(var e=0;e<r.length;e+=1)r[e].c();a=A()},l:function(e){for(var t=0;t<r.length;t+=1)r[t].l(e);a=A()},m:function(e,t){for(var s=0;s<r.length;s+=1)r[s].m(e,t);b(e,a,t)},p:function(e,s){if(1&s){var n;for(t=e[2],n=0;n<t.length;n+=1){var c=j(e,t,n);r[n]?r[n].p(c,s):(r[n]=F(c),r[n].c(),r[n].m(a.parentNode,a))}for(;n<r.length;n+=1)r[n].d(1);r.length=t.length}},d:function(e){V(r,e),e&&d(a)}}}function F(e){var a,t,r,s,n,c,i,o,h,w,y,I,_,x,P,D,A,V,N,S,T,M,j,H,q,F,U,Y,z,B,C,W,$,G,J,K,Q,X,Z,ee,ae,te,re,se,ne,ce,ie,oe,le,fe,ue,he,de,ve,pe,me,Ee,ge,be,ke,we,ye=e[4].display_title+"",Ie=e[4].summary_short+"",_e=e[4].byline+"",xe=e[4].opening_date+"",Pe=e[4].publication_date+"",De=e[4].date_updated+"",Re=e[4].link.suggested_link_text+"";return{c:function(){a=f("div"),t=f("div"),r=f("header"),s=f("p"),n=f("a"),c=u(ye),o=l(),h=f("div"),w=f("p"),y=u(Ie),I=l(),_=f("p"),x=f("a"),P=u(_e),A=l(),V=f("footer"),N=f("nav"),S=f("div"),T=f("div"),M=f("p"),j=u("Opening"),H=l(),q=f("p"),F=f("time"),U=u(xe),z=l(),B=f("div"),C=f("div"),W=f("p"),$=u("Publication"),G=l(),J=f("p"),K=f("time"),Q=u(Pe),Z=l(),ee=f("div"),ae=f("div"),te=f("p"),re=u("Updated"),se=l(),ne=f("p"),ce=f("time"),ie=u(De),le=l(),fe=f("p"),ue=f("span"),he=f("a"),de=u(Re),pe=l(),me=f("footer"),Ee=f("a"),ge=u("Read the complete Review"),ke=l(),we=f("hr"),this.h()},l:function(e){a=p(e,"DIV",{class:!0});var i=m(a);t=p(i,"DIV",{class:!0});var l=m(t);r=p(l,"HEADER",{class:!0});var f=m(r);s=p(f,"P",{class:!0});var u=m(s);n=p(u,"A",{href:!0,target:!0});var g=m(n);c=E(g,ye),g.forEach(d),u.forEach(d),f.forEach(d),o=v(l),h=p(l,"DIV",{class:!0});var b=m(h);w=p(b,"P",{class:!0});var k=m(w);y=E(k,Ie),k.forEach(d),I=v(b),_=p(b,"P",{class:!0});var D=m(_);x=p(D,"A",{href:!0});var R=m(x);P=E(R,_e),R.forEach(d),D.forEach(d),b.forEach(d),A=v(l),V=p(l,"FOOTER",{class:!0});var L=m(V);N=p(L,"NAV",{class:!0});var O=m(N);S=p(O,"DIV",{class:!0});var Y=m(S);T=p(Y,"DIV",{});var X=m(T);M=p(X,"P",{class:!0});var oe=m(M);j=E(oe,"Opening"),oe.forEach(d),H=v(X),q=p(X,"P",{class:!0});var ve=m(q);F=p(ve,"TIME",{datetime:!0});var be=m(F);U=E(be,xe),be.forEach(d),ve.forEach(d),X.forEach(d),Y.forEach(d),z=v(O),B=p(O,"DIV",{class:!0});var Le=m(B);C=p(Le,"DIV",{});var Ae=m(C);W=p(Ae,"P",{class:!0});var Ve=m(W);$=E(Ve,"Publication"),Ve.forEach(d),G=v(Ae),J=p(Ae,"P",{class:!0});var Ne=m(J);K=p(Ne,"TIME",{datetime:!0});var Oe=m(K);Q=E(Oe,Pe),Oe.forEach(d),Ne.forEach(d),Ae.forEach(d),Le.forEach(d),Z=v(O),ee=p(O,"DIV",{class:!0});var Se=m(ee);ae=p(Se,"DIV",{});var Te=m(ae);te=p(Te,"P",{class:!0});var Me=m(te);re=E(Me,"Updated"),Me.forEach(d),se=v(Te),ne=p(Te,"P",{class:!0});var je=m(ne);ce=p(je,"TIME",{datetime:!0});var He=m(ce);ie=E(He,De),He.forEach(d),je.forEach(d),Te.forEach(d),Se.forEach(d),O.forEach(d),le=v(L),fe=p(L,"P",{class:!0});var qe=m(fe);ue=p(qe,"SPAN",{});var Fe=m(ue);he=p(Fe,"A",{href:!0,target:!0});var Ue=m(he);de=E(Ue,Re),Ue.forEach(d),Fe.forEach(d),qe.forEach(d),L.forEach(d),pe=v(l),me=p(l,"FOOTER",{class:!0});var Ye=m(me);Ee=p(Ye,"A",{href:!0,target:!0,class:!0});var ze=m(Ee);ge=E(ze,"Read the complete Review"),ze.forEach(d),Ye.forEach(d),l.forEach(d),i.forEach(d),ke=v(e),we=p(e,"HR",{style:!0}),this.h()},h:function(){g(n,"href",i=e[4].link.url),g(n,"target","_blank"),g(s,"class","card-header-title"),g(r,"class","card-header"),g(w,"class","title"),g(x,"href",D="./reviews/".concat(O(e[4].byline),"/")),g(_,"class","subtitle"),g(h,"class","card-content"),g(M,"class","heading"),g(F,"datetime",Y=e[4].opening_date),g(q,"class","subtitle"),g(S,"class","level-item has-text-centered is-hidden-mobile"),g(W,"class","heading"),g(K,"datetime",X=e[4].publication_date),g(J,"class","subtitle"),g(B,"class","level-item has-text-centered"),g(te,"class","heading"),g(ce,"datetime",oe=e[4].date_updated),g(ne,"class","subtitle"),g(ee,"class","level-item has-text-centered"),g(N,"class","level card-footer-item"),g(he,"href",ve=e[4].link.url),g(he,"target","_blank"),g(fe,"class","card-footer-item is-hidden-mobile"),g(V,"class","card-footer"),g(Ee,"href",be=e[4].link.url),g(Ee,"target","_blank"),g(Ee,"class","button is-black is-medium is-fullwidth"),g(me,"class","card-footer is-hidden-desktop"),g(t,"class","card"),g(a,"class","container"),R(we,"margin","0 0 3rem")},m:function(e,i){b(e,a,i),k(a,t),k(t,r),k(r,s),k(s,n),k(n,c),k(t,o),k(t,h),k(h,w),k(w,y),k(h,I),k(h,_),k(_,x),k(x,P),k(t,A),k(t,V),k(V,N),k(N,S),k(S,T),k(T,M),k(M,j),k(T,H),k(T,q),k(q,F),k(F,U),k(N,z),k(N,B),k(B,C),k(C,W),k(W,$),k(C,G),k(C,J),k(J,K),k(K,Q),k(N,Z),k(N,ee),k(ee,ae),k(ae,te),k(te,re),k(ae,se),k(ae,ne),k(ne,ce),k(ce,ie),k(V,le),k(V,fe),k(fe,ue),k(ue,he),k(he,de),k(t,pe),k(t,me),k(me,Ee),k(Ee,ge),b(e,ke,i),b(e,we,i)},p:function(e,a){1&a&&ye!==(ye=e[4].display_title+"")&&L(c,ye),1&a&&i!==(i=e[4].link.url)&&g(n,"href",i),1&a&&Ie!==(Ie=e[4].summary_short+"")&&L(y,Ie),1&a&&_e!==(_e=e[4].byline+"")&&L(P,_e),1&a&&D!==(D="./reviews/".concat(O(e[4].byline),"/"))&&g(x,"href",D),1&a&&xe!==(xe=e[4].opening_date+"")&&L(U,xe),1&a&&Y!==(Y=e[4].opening_date)&&g(F,"datetime",Y),1&a&&Pe!==(Pe=e[4].publication_date+"")&&L(Q,Pe),1&a&&X!==(X=e[4].publication_date)&&g(K,"datetime",X),1&a&&De!==(De=e[4].date_updated+"")&&L(ie,De),1&a&&oe!==(oe=e[4].date_updated)&&g(ce,"datetime",oe),1&a&&Re!==(Re=e[4].link.suggested_link_text+"")&&L(de,Re),1&a&&ve!==(ve=e[4].link.url)&&g(he,"href",ve),1&a&&be!==(be=e[4].link.url)&&g(Ee,"href",be)},d:function(e){e&&d(a),e&&d(ke),e&&d(we)}}}function U(e){var a,t;return{c:function(){a=f("p"),t=u("...waiting")},l:function(e){a=p(e,"P",{});var r=m(a);t=E(r,"...waiting"),r.forEach(d)},m:function(e,r){b(e,a,r),k(a,t)},p:y,d:function(e){e&&d(a)}}}function Y(e){var a,t,r,s,n,c,i,I,_,x,P,D,R,L,A,V,N,O,S,T,j,F,Y,z,B,C,W,$,G,J={ctx:e,current:null,token:null,pending:U,then:q,catch:H,value:2,error:3};return o(W=e[0],J),{c:function(){a=l(),t=f("div"),r=f("header"),s=f("div"),n=f("h1"),c=u("New York Times Movie Reviews"),i=l(),I=f("ul"),_=f("li"),x=f("a"),P=u("."),D=l(),R=f("li"),L=f("a"),A=u("."),V=l(),N=f("li"),O=f("span"),S=l(),T=f("li"),j=f("span"),F=l(),Y=f("li"),z=f("span"),B=l(),C=f("div"),J.block.c(),$=l(),G=f("div"),this.h()},l:function(e){h('[data-svelte="svelte-40gz1s"]',M.head).forEach(d),a=v(e),t=p(e,"DIV",{class:!0});var o=m(t);r=p(o,"HEADER",{class:!0});var l=m(r);s=p(l,"DIV",{class:!0});var f=m(s);n=p(f,"H1",{class:!0});var u=m(n);c=E(u,"New York Times Movie Reviews"),u.forEach(d),f.forEach(d),i=v(l),I=p(l,"UL",{class:!0});var g=m(I);_=p(g,"LI",{class:!0});var b=m(_);x=p(b,"A",{href:!0,class:!0});var k=m(x);P=E(k,"."),k.forEach(d),b.forEach(d),D=v(g),R=p(g,"LI",{class:!0});var w=m(R);L=p(w,"A",{href:!0,class:!0});var y=m(L);A=E(y,"."),y.forEach(d),w.forEach(d),V=v(g),N=p(g,"LI",{class:!0});var H=m(N);O=p(H,"SPAN",{class:!0}),m(O).forEach(d),H.forEach(d),S=v(g),T=p(g,"LI",{class:!0});var q=m(T);j=p(q,"SPAN",{class:!0}),m(j).forEach(d),q.forEach(d),F=v(g),Y=p(g,"LI",{class:!0});var U=m(Y);z=p(U,"SPAN",{class:!0}),m(z).forEach(d),U.forEach(d),g.forEach(d),l.forEach(d),B=v(o),C=p(o,"DIV",{id:!0});var W=m(C);J.block.l(W),W.forEach(d),o.forEach(d),$=v(e),G=p(e,"DIV",{id:!0}),m(G).forEach(d),this.h()},h:function(){M.title="Reviews",g(n,"class","title"),g(s,"class","bd-header-titles"),g(x,"href","."),g(x,"class","steps-marker"),g(_,"class","steps-segment"),g(L,"href","."),g(L,"class","steps-marker"),g(R,"class","steps-segment"),g(O,"class","steps-marker"),g(N,"class","steps-segment is-active"),g(j,"class","steps-marker"),g(T,"class","steps-segment"),g(z,"class","steps-marker"),g(Y,"class","steps-segment"),g(I,"class","steps"),g(r,"class","bd-header"),g(C,"id","reviewsList"),g(t,"class","bd-main-container container"),g(G,"id","endPage")},m:function(e,o){b(e,a,o),b(e,t,o),k(t,r),k(r,s),k(s,n),k(n,c),k(r,i),k(r,I),k(I,_),k(_,x),k(x,P),k(I,D),k(I,R),k(R,L),k(L,A),k(I,V),k(I,N),k(N,O),k(I,S),k(I,T),k(T,j),k(I,F),k(I,Y),k(Y,z),k(t,B),k(t,C),J.block.m(C,J.anchor=null),J.mount=function(){return C},J.anchor=null,b(e,$,o),b(e,G,o)},p:function(a,t){var r=w(t,1)[0];if(e=a,J.ctx=e,1&r&&W!==(W=e[0])&&o(W,J));else{var s=e.slice();s[2]=J.resolved,J.block.p(s,r)}},i:y,o:y,d:function(e){e&&d(a),e&&d(t),J.block.d(),J.token=null,J=null,e&&d($),e&&d(G)}}}function z(e){return B.apply(this,arguments)}function B(){return(B=e(a.mark(function e(t){var r,s,n;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.page,t.session,t.query,e.next=3,this.fetch("https://api.nytimes.com/svc/movies/v2/reviews/search.json?api-key=".concat(N,"&critics-pick=Y&order=by-publication-date"));case 3:return r=e.sent,e.next=6,r.json();case 6:if(!(s=e.sent)){e.next=12;break}return n=s.results,e.abrupt("return",{articleList:n});case 12:throw new Error(s);case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function C(t,r,s){var n=r.articleList;return I(function(e){}),_(function(){var t=20,r=document.querySelector("#endPage");if("undefined"!=typeof IntersectionObserver){var c=new IntersectionObserver(function(){var r=e(a.mark(function e(r){var c;return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==r[0].isIntersecting){e.next=6;break}return e.next=3,S({offset:t});case 3:c=e.sent,s(0,n=n.concat(c)),t+=20;case 6:case"end":return e.stop()}},e)}));return function(e){return r.apply(this,arguments)}}(),{rootMargin:"0px 0px 300px 0px"});return c.observe(r),function(){return c.unobserve(r)}}var i=function e(){var a=r.getBoundingClientRect();intersecting=a.bottom+bottom>0&&a.right+right>0&&a.top-top<window.innerHeight&&a.left-left<window.innerWidth,intersecting&&once&&window.removeEventListener("scroll",e)};return window.addEventListener("scroll",i),function(){return window.removeEventListener("scroll",i)}}),t.$set=function(e){"articleList"in e&&s(0,n=e.articleList)},[n]}export default(function(e){t(o,i);var a=T(o);function o(e){var t;return r(this,o),t=a.call(this),s(c(t),e,C,Y,n,{articleList:0}),t}return o}());export{z as preload};

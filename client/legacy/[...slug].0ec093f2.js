import{r as e,u as t,_ as r,a,i as n,s as c,b as s,S as i,v as o,c as l,e as f,t as u,q as h,d,f as v,g as p,h as m,j as b,k as g,l as E,m as w,w as y,n as k,E as P,F as O,x as _,y as x,o as D,p as I,z as R,A as j,B as V,C as A,D as L}from"./client.cfb4b258.js";import{c as T,d as q,a as M,g as S,b as H}from"./urlFormat.f9eed3b1.js";function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){return function(){var t,r=D(e);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var a=D(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return I(this,t)}}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach(function(t){N(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var U=R.document;function Y(e,t,r){var a=e.slice();return a[8]=t[r],a}function z(e){var t,r,a=e[7].message+"";return{c:function(){t=f("p"),r=u(a),this.h()},l:function(e){t=p(e,"P",{style:!0});var n=m(t);r=b(n,a),n.forEach(d),this.h()},h:function(){j(t,"color","red")},m:function(e,a){E(e,t,a),w(t,r)},p:function(e,t){1&t&&a!==(a=e[7].message+"")&&V(r,a)},d:function(e){e&&d(t)}}}function W(e){for(var t,r=e[6],a=[],n=0;n<r.length;n+=1)a[n]=$(Y(e,r,n));return{c:function(){for(var e=0;e<a.length;e+=1)a[e].c();t=A()},l:function(e){for(var r=0;r<a.length;r+=1)a[r].l(e);t=A()},m:function(e,r){for(var n=0;n<a.length;n+=1)a[n].m(e,r);E(e,t,r)},p:function(e,n){if(1&n){var c;for(r=e[6],c=0;c<r.length;c+=1){var s=Y(e,r,c);a[c]?a[c].p(s,n):(a[c]=$(s),a[c].c(),a[c].m(t.parentNode,t))}for(;c<a.length;c+=1)a[c].d(1);a.length=r.length}},d:function(e){L(a,e),e&&d(t)}}}function $(e){var t,r,a,n,c,s,i,o,h,y,k,P,O,_,x,D,I,R,A,L,T,q,M,H,N,F,B,C,U,Y,z,W,$,G,J,K,Q,X,Z,ee,te,re,ae,ne,ce,se,ie,oe,le,fe,ue,he,de,ve,pe,me,be,ge,Ee,we,ye,ke=e[8].display_title+"",Pe=e[8].summary_short+"",Oe=e[8].byline+"",_e=e[8].opening_date+"",xe=e[8].publication_date+"",De=e[8].date_updated+"",Ie=e[8].link.suggested_link_text+"";return{c:function(){t=f("div"),r=f("div"),a=f("header"),n=f("p"),c=f("a"),s=u(ke),o=l(),h=f("div"),y=f("p"),k=u(Pe),P=l(),O=f("p"),_=f("a"),x=u(Oe),I=l(),R=f("footer"),A=f("nav"),L=f("div"),T=f("div"),q=f("p"),M=u("Opening"),H=l(),N=f("p"),F=f("time"),B=u(_e),U=l(),Y=f("div"),z=f("div"),W=f("p"),$=u("Publication"),G=l(),J=f("p"),K=f("time"),Q=u(xe),Z=l(),ee=f("div"),te=f("div"),re=f("p"),ae=u("Updated"),ne=l(),ce=f("p"),se=f("time"),ie=u(De),le=l(),fe=f("p"),ue=f("span"),he=f("a"),de=u(Ie),pe=l(),me=f("footer"),be=f("a"),ge=u("Read the complete Review"),we=l(),ye=f("hr"),this.h()},l:function(e){t=p(e,"DIV",{class:!0});var i=m(t);r=p(i,"DIV",{class:!0});var l=m(r);a=p(l,"HEADER",{class:!0});var f=m(a);n=p(f,"P",{class:!0});var u=m(n);c=p(u,"A",{href:!0,target:!0});var g=m(c);s=b(g,ke),g.forEach(d),u.forEach(d),f.forEach(d),o=v(l),h=p(l,"DIV",{class:!0});var E=m(h);y=p(E,"P",{class:!0});var w=m(y);k=b(w,Pe),w.forEach(d),P=v(E),O=p(E,"P",{class:!0});var D=m(O);_=p(D,"A",{href:!0});var j=m(_);x=b(j,Oe),j.forEach(d),D.forEach(d),E.forEach(d),I=v(l),R=p(l,"FOOTER",{class:!0});var V=m(R);A=p(V,"NAV",{class:!0});var S=m(A);L=p(S,"DIV",{class:!0});var C=m(L);T=p(C,"DIV",{});var X=m(T);q=p(X,"P",{class:!0});var oe=m(q);M=b(oe,"Opening"),oe.forEach(d),H=v(X),N=p(X,"P",{class:!0});var ve=m(N);F=p(ve,"TIME",{datetime:!0});var Ee=m(F);B=b(Ee,_e),Ee.forEach(d),ve.forEach(d),X.forEach(d),C.forEach(d),U=v(S),Y=p(S,"DIV",{class:!0});var Re=m(Y);z=p(Re,"DIV",{});var je=m(z);W=p(je,"P",{class:!0});var Ve=m(W);$=b(Ve,"Publication"),Ve.forEach(d),G=v(je),J=p(je,"P",{class:!0});var Ae=m(J);K=p(Ae,"TIME",{datetime:!0});var Le=m(K);Q=b(Le,xe),Le.forEach(d),Ae.forEach(d),je.forEach(d),Re.forEach(d),Z=v(S),ee=p(S,"DIV",{class:!0});var Te=m(ee);te=p(Te,"DIV",{});var qe=m(te);re=p(qe,"P",{class:!0});var Me=m(re);ae=b(Me,"Updated"),Me.forEach(d),ne=v(qe),ce=p(qe,"P",{class:!0});var Se=m(ce);se=p(Se,"TIME",{datetime:!0});var He=m(se);ie=b(He,De),He.forEach(d),Se.forEach(d),qe.forEach(d),Te.forEach(d),S.forEach(d),le=v(V),fe=p(V,"P",{class:!0});var Ne=m(fe);ue=p(Ne,"SPAN",{});var Fe=m(ue);he=p(Fe,"A",{href:!0,target:!0});var Be=m(he);de=b(Be,Ie),Be.forEach(d),Fe.forEach(d),Ne.forEach(d),V.forEach(d),pe=v(l),me=p(l,"FOOTER",{class:!0});var Ce=m(me);be=p(Ce,"A",{href:!0,target:!0,class:!0});var Ue=m(be);ge=b(Ue,"Read the complete Review"),Ue.forEach(d),Ce.forEach(d),l.forEach(d),i.forEach(d),we=v(e),ye=p(e,"HR",{style:!0}),this.h()},h:function(){g(c,"href",i=e[8].link.url),g(c,"target","_blank"),g(n,"class","card-header-title"),g(a,"class","card-header"),g(y,"class","title"),g(_,"href",D="/reviews/".concat(S(e[8].byline),"/")),g(O,"class","subtitle"),g(h,"class","card-content"),g(q,"class","heading"),g(F,"datetime",C=e[8].opening_date),g(N,"class","subtitle"),g(L,"class","level-item has-text-centered is-hidden-mobile"),g(W,"class","heading"),g(K,"datetime",X=e[8].publication_date),g(J,"class","subtitle"),g(Y,"class","level-item has-text-centered"),g(re,"class","heading"),g(se,"datetime",oe=e[8].date_updated),g(ce,"class","subtitle"),g(ee,"class","level-item has-text-centered"),g(A,"class","level card-footer-item"),g(he,"href",ve=e[8].link.url),g(he,"target","_blank"),g(fe,"class","card-footer-item is-hidden-mobile"),g(R,"class","card-footer"),g(be,"href",Ee=e[8].link.url),g(be,"target","_blank"),g(be,"class","button is-black is-medium is-fullwidth"),g(me,"class","card-footer is-hidden-desktop"),g(r,"class","card"),g(t,"class","container"),j(ye,"margin","0 0 3rem")},m:function(e,i){E(e,t,i),w(t,r),w(r,a),w(a,n),w(n,c),w(c,s),w(r,o),w(r,h),w(h,y),w(y,k),w(h,P),w(h,O),w(O,_),w(_,x),w(r,I),w(r,R),w(R,A),w(A,L),w(L,T),w(T,q),w(q,M),w(T,H),w(T,N),w(N,F),w(F,B),w(A,U),w(A,Y),w(Y,z),w(z,W),w(W,$),w(z,G),w(z,J),w(J,K),w(K,Q),w(A,Z),w(A,ee),w(ee,te),w(te,re),w(re,ae),w(te,ne),w(te,ce),w(ce,se),w(se,ie),w(R,le),w(R,fe),w(fe,ue),w(ue,he),w(he,de),w(r,pe),w(r,me),w(me,be),w(be,ge),E(e,we,i),E(e,ye,i)},p:function(e,t){1&t&&ke!==(ke=e[8].display_title+"")&&V(s,ke),1&t&&i!==(i=e[8].link.url)&&g(c,"href",i),1&t&&Pe!==(Pe=e[8].summary_short+"")&&V(k,Pe),1&t&&Oe!==(Oe=e[8].byline+"")&&V(x,Oe),1&t&&D!==(D="/reviews/".concat(S(e[8].byline),"/"))&&g(_,"href",D),1&t&&_e!==(_e=e[8].opening_date+"")&&V(B,_e),1&t&&C!==(C=e[8].opening_date)&&g(F,"datetime",C),1&t&&xe!==(xe=e[8].publication_date+"")&&V(Q,xe),1&t&&X!==(X=e[8].publication_date)&&g(K,"datetime",X),1&t&&De!==(De=e[8].date_updated+"")&&V(ie,De),1&t&&oe!==(oe=e[8].date_updated)&&g(se,"datetime",oe),1&t&&Ie!==(Ie=e[8].link.suggested_link_text+"")&&V(de,Ie),1&t&&ve!==(ve=e[8].link.url)&&g(he,"href",ve),1&t&&Ee!==(Ee=e[8].link.url)&&g(be,"href",Ee)},d:function(e){e&&d(t),e&&d(we),e&&d(ye)}}}function G(e){var t,r;return{c:function(){t=f("p"),r=u("...waiting")},l:function(e){t=p(e,"P",{});var a=m(t);r=b(a,"...waiting"),a.forEach(d)},m:function(e,a){E(e,t,a),w(t,r)},p:k,d:function(e){e&&d(t)}}}function J(e){var t,r,a,n,c,s,i,P,O,_,x={ctx:e,current:null,token:null,pending:G,then:W,catch:z,value:6,error:7};return o(P=e[0],x),{c:function(){t=l(),r=f("div"),a=f("header"),n=f("div"),c=f("h1"),s=u("New York Times Movie Reviews"),i=l(),x.block.c(),O=l(),_=f("div"),this.h()},l:function(e){h('[data-svelte="svelte-1oxw8qd"]',U.head).forEach(d),t=v(e),r=p(e,"DIV",{class:!0});var o=m(r);a=p(o,"HEADER",{class:!0});var l=m(a);n=p(l,"DIV",{class:!0});var f=m(n);c=p(f,"H1",{class:!0});var u=m(c);s=b(u,"New York Times Movie Reviews"),u.forEach(d),f.forEach(d),l.forEach(d),i=v(o),x.block.l(o),o.forEach(d),O=v(e),_=p(e,"DIV",{id:!0}),m(_).forEach(d),this.h()},h:function(){U.title="Review",g(c,"class","title"),g(n,"class","bd-header-titles"),g(a,"class","bd-header"),g(r,"class","bd-main-container container"),g(_,"id","endPage")},m:function(e,o){E(e,t,o),E(e,r,o),w(r,a),w(a,n),w(n,c),w(c,s),w(r,i),x.block.m(r,x.anchor=null),x.mount=function(){return r},x.anchor=null,E(e,O,o),E(e,_,o)},p:function(t,r){var a=y(r,1)[0];if(e=t,x.ctx=e,1&a&&P!==(P=e[0])&&o(P,x));else{var n=e.slice();n[6]=x.resolved,x.block.p(n,a)}},i:k,o:k,d:function(e){e&&d(t),e&&d(r),x.block.d(),x.token=null,x=null,e&&d(O),e&&d(_)}}}function K(e){return Q.apply(this,arguments)}function Q(){return(Q=e(t.mark(function e(r){var a,n,c,s,i;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.path,r.query,a=r.params,n=T({query:q(a.slug[1]),reviewer:q(a.slug[0])}),e.next=4,this.fetch("https://api.nytimes.com/svc/movies/v2/reviews/search.json?api-key=".concat(M,"&").concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:if(!(s=e.sent)){e.next=13;break}return i=s.results,e.abrupt("return",{articleList:i});case 13:throw new Error(s);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function X(r,a,n){var c,s=P().page;O(r,s,function(e){return n(2,c=e)});var i=c.params.slug,o=a.articleList,l={query:q(i[1]),reviewer:q(i[0])};return _(function(e){}),x(function(){var r=20,a=document.querySelector("#endPage");if("undefined"!=typeof IntersectionObserver){var c=new IntersectionObserver(function(){var a=e(t.mark(function e(a){var c;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==a[0].isIntersecting){e.next=6;break}return e.next=3,H(C({offset:r},l));case 3:c=e.sent,n(0,o=o.concat(c)),r+=20;case 6:case"end":return e.stop()}},e)}));return function(e){return a.apply(this,arguments)}}(),{rootMargin:"0px 0px 300px 0px"});return c.observe(a),function(){return c.unobserve(a)}}var s=function e(){var t=a.getBoundingClientRect();intersecting=t.bottom+bottom>0&&t.right+right>0&&t.top-top<window.innerHeight&&t.left-left<window.innerWidth,intersecting&&once&&window.removeEventListener("scroll",e)};return window.addEventListener("scroll",s),function(){return window.removeEventListener("scroll",s)}}),r.$set=function(e){"articleList"in e&&n(0,o=e.articleList)},[o,s]}export default(function(e){r(o,i);var t=F(o);function o(e){var r;return a(this,o),r=t.call(this),n(s(r),e,X,J,c,{articleList:0}),r}return o}());export{K as preload};

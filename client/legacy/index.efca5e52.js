import{_ as t,a as e,i as n,s as r,b as a,S as c,v as s,l as i,d as o,e as l,g as f,h as u,k as h,w as d,n as v,x as p,o as m,p as g,t as E,c as b,j as y,f as w,m as k,y as x,r as I,u as _,z as R,A as D,B as P,q as L,C as V,D as A,E as $,F as O,G as N,H as S,I as T,J as H,K as M}from"./client.52882176.js";import{a as j,g as Y,b as F}from"./urlFormat.91b287d4.js";function q(t){return function(){var e,n=m(t);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return g(this,e)}}function U(t,e,n){var r=t.slice();return r[1]=e[n],r}function z(t){var e,n,r,a,c,s,d,v;return{c:function(){e=l("li"),n=l("a"),r=E("·"),v=b(),this.h()},l:function(t){e=f(t,"LI",{class:!0});var a=u(e);n=f(a,"A",{href:!0,title:!0,alt:!0,"data-tooltip":!0});var c=u(n);r=y(c,"·"),c.forEach(o),v=w(a),a.forEach(o),this.h()},h:function(){h(n,"href",a="reviews/year/".concat(t[1])),h(n,"title",c=t[1]),h(n,"alt",s=t[1]),h(n,"data-tooltip",d=t[1]),h(e,"class","steps-segment")},m:function(t,a){i(t,e,a),k(e,n),k(n,r),k(e,v)},p:function(t,e){1&e&&a!==(a="reviews/year/".concat(t[1]))&&h(n,"href",a),1&e&&c!==(c=t[1])&&h(n,"title",c),1&e&&s!==(s=t[1])&&h(n,"alt",s),1&e&&d!==(d=t[1])&&h(n,"data-tooltip",d)},d:function(t){t&&o(e)}}}function B(t){var e,n,r,a,c,s,d,v=t[1]+"";return{c:function(){e=l("li"),n=l("span"),r=b(),a=l("div"),c=l("p"),s=E(v),d=b(),this.h()},l:function(t){e=f(t,"LI",{class:!0});var i=u(e);n=f(i,"SPAN",{class:!0}),u(n).forEach(o),r=w(i),a=f(i,"DIV",{class:!0});var l=u(a);c=f(l,"P",{class:!0});var h=u(c);s=y(h,v),h.forEach(o),l.forEach(o),d=w(i),i.forEach(o),this.h()},h:function(){h(n,"class","steps-marker"),h(c,"class","heading"),h(a,"class","steps-content"),h(e,"class","steps-segment")},m:function(t,o){i(t,e,o),k(e,n),k(e,r),k(e,a),k(a,c),k(c,s),k(e,d)},p:function(t,e){1&e&&v!==(v=t[1]+"")&&x(s,v)},d:function(t){t&&o(e)}}}function C(t){var e,n;function r(t,n){return(null==e||1&n)&&(e=!("0"!==t[1].charAt(3))),e?B:z}var a=r(t,-1),c=a(t);return{c:function(){c.c(),n=s()},l:function(t){c.l(t),n=s()},m:function(t,e){c.m(t,e),i(t,n,e)},p:function(t,e){a===(a=r(t,e))&&c?c.p(t,e):(c.d(1),(c=a(t))&&(c.c(),c.m(n.parentNode,n)))},d:function(t){c.d(t),t&&o(n)}}}function G(t){for(var e,n=t[0],r=[],a=0;a<n.length;a+=1)r[a]=C(U(t,n,a));return{c:function(){e=l("ul");for(var t=0;t<r.length;t+=1)r[t].c();this.h()},l:function(t){e=f(t,"UL",{class:!0});for(var n=u(e),a=0;a<r.length;a+=1)r[a].l(n);n.forEach(o),this.h()},h:function(){h(e,"class","steps has-gaps is-thin has-content-centered")},m:function(t,n){i(t,e,n);for(var a=0;a<r.length;a+=1)r[a].m(e,null)},p:function(t,a){var c=d(a,1)[0];if(1&c){var s;for(n=t[0],s=0;s<n.length;s+=1){var i=U(t,n,s);r[s]?r[s].p(i,c):(r[s]=C(i),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:v,o:v,d:function(t){t&&o(e),p(r,t)}}}function J(t,e,n){var r=e.yearList,a=void 0===r?[]:r;return t.$set=function(t){"yearList"in t&&n(0,a=t.yearList)},[a]}var K=function(s){t(o,c);var i=q(o);function o(t){var c;return e(this,o),c=i.call(this),n(a(c),t,J,G,r,{yearList:0}),c}return o}();function W(t){return function(){var e,n=m(t);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return g(this,e)}}var Q=H.document;function X(t,e,n){var r=t.slice();return r[5]=e[n],r}function Z(t){var e,n,r=t[4].message+"";return{c:function(){e=l("p"),n=E(r),this.h()},l:function(t){e=f(t,"P",{style:!0});var a=u(e);n=y(a,r),a.forEach(o),this.h()},h:function(){M(e,"color","red")},m:function(t,r){i(t,e,r),k(e,n)},p:function(t,e){1&e&&r!==(r=t[4].message+"")&&x(n,r)},d:function(t){t&&o(e)}}}function tt(t){for(var e,n=t[3],r=[],a=0;a<n.length;a+=1)r[a]=et(X(t,n,a));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=s()},l:function(t){for(var n=0;n<r.length;n+=1)r[n].l(t);e=s()},m:function(t,n){for(var a=0;a<r.length;a+=1)r[a].m(t,n);i(t,e,n)},p:function(t,a){if(1&a){var c;for(n=t[3],c=0;c<n.length;c+=1){var s=X(t,n,c);r[c]?r[c].p(s,a):(r[c]=et(s),r[c].c(),r[c].m(e.parentNode,e))}for(;c<r.length;c+=1)r[c].d(1);r.length=n.length}},d:function(t){p(r,t),t&&o(e)}}}function et(t){var e,n,r,a,c,s,d,v,p,m,g,I,_,R,D,P,L,V,A,$,O,N,S,T,H,j,F,q,U,z,B,C,G,J,K,W,Q,X,Z,tt,et,nt,rt,at,ct,st,it,ot,lt,ft,ut,ht,dt,vt,pt,mt,gt,Et,bt,yt,wt,kt=t[5].display_title+"",xt=t[5].summary_short+"",It=t[5].byline+"",_t=t[5].opening_date+"",Rt=t[5].publication_date+"",Dt=t[5].date_updated+"",Pt=t[5].link.suggested_link_text+"";return{c:function(){e=l("div"),n=l("div"),r=l("header"),a=l("p"),c=l("a"),s=E(kt),v=b(),p=l("div"),m=l("p"),g=E(xt),I=b(),_=l("p"),R=l("a"),D=E(It),L=b(),V=l("footer"),A=l("nav"),$=l("div"),O=l("div"),N=l("p"),S=E("Opening"),T=b(),H=l("p"),j=l("time"),F=E(_t),U=b(),z=l("div"),B=l("div"),C=l("p"),G=E("Publication"),J=b(),K=l("p"),W=l("time"),Q=E(Rt),Z=b(),tt=l("div"),et=l("div"),nt=l("p"),rt=E("Updated"),at=b(),ct=l("p"),st=l("time"),it=E(Dt),lt=b(),ft=l("p"),ut=l("span"),ht=l("a"),dt=E(Pt),pt=b(),mt=l("footer"),gt=l("a"),Et=E("Read the complete Review"),yt=b(),wt=l("hr"),this.h()},l:function(t){e=f(t,"DIV",{class:!0});var i=u(e);n=f(i,"DIV",{class:!0});var l=u(n);r=f(l,"HEADER",{class:!0});var h=u(r);a=f(h,"P",{class:!0});var d=u(a);c=f(d,"A",{href:!0,target:!0});var E=u(c);s=y(E,kt),E.forEach(o),d.forEach(o),h.forEach(o),v=w(l),p=f(l,"DIV",{class:!0});var b=u(p);m=f(b,"P",{class:!0});var k=u(m);g=y(k,xt),k.forEach(o),I=w(b),_=f(b,"P",{class:!0});var x=u(_);R=f(x,"A",{href:!0});var P=u(R);D=y(P,It),P.forEach(o),x.forEach(o),b.forEach(o),L=w(l),V=f(l,"FOOTER",{class:!0});var M=u(V);A=f(M,"NAV",{class:!0});var Y=u(A);$=f(Y,"DIV",{class:!0});var q=u($);O=f(q,"DIV",{});var X=u(O);N=f(X,"P",{class:!0});var ot=u(N);S=y(ot,"Opening"),ot.forEach(o),T=w(X),H=f(X,"P",{class:!0});var vt=u(H);j=f(vt,"TIME",{datetime:!0});var bt=u(j);F=y(bt,_t),bt.forEach(o),vt.forEach(o),X.forEach(o),q.forEach(o),U=w(Y),z=f(Y,"DIV",{class:!0});var Lt=u(z);B=f(Lt,"DIV",{});var Vt=u(B);C=f(Vt,"P",{class:!0});var At=u(C);G=y(At,"Publication"),At.forEach(o),J=w(Vt),K=f(Vt,"P",{class:!0});var $t=u(K);W=f($t,"TIME",{datetime:!0});var Ot=u(W);Q=y(Ot,Rt),Ot.forEach(o),$t.forEach(o),Vt.forEach(o),Lt.forEach(o),Z=w(Y),tt=f(Y,"DIV",{class:!0});var Nt=u(tt);et=f(Nt,"DIV",{});var St=u(et);nt=f(St,"P",{class:!0});var Tt=u(nt);rt=y(Tt,"Updated"),Tt.forEach(o),at=w(St),ct=f(St,"P",{class:!0});var Ht=u(ct);st=f(Ht,"TIME",{datetime:!0});var Mt=u(st);it=y(Mt,Dt),Mt.forEach(o),Ht.forEach(o),St.forEach(o),Nt.forEach(o),Y.forEach(o),lt=w(M),ft=f(M,"P",{class:!0});var jt=u(ft);ut=f(jt,"SPAN",{});var Yt=u(ut);ht=f(Yt,"A",{href:!0,target:!0});var Ft=u(ht);dt=y(Ft,Pt),Ft.forEach(o),Yt.forEach(o),jt.forEach(o),M.forEach(o),pt=w(l),mt=f(l,"FOOTER",{class:!0});var qt=u(mt);gt=f(qt,"A",{href:!0,target:!0,class:!0});var Ut=u(gt);Et=y(Ut,"Read the complete Review"),Ut.forEach(o),qt.forEach(o),l.forEach(o),i.forEach(o),yt=w(t),wt=f(t,"HR",{style:!0}),this.h()},h:function(){h(c,"href",d=t[5].link.url),h(c,"target","_blank"),h(a,"class","card-header-title"),h(r,"class","card-header"),h(m,"class","title"),h(R,"href",P="./reviews/".concat(Y(t[5].byline),"/")),h(_,"class","subtitle"),h(p,"class","card-content"),h(N,"class","heading"),h(j,"datetime",q=t[5].opening_date),h(H,"class","subtitle"),h($,"class","level-item has-text-centered is-hidden-mobile"),h(C,"class","heading"),h(W,"datetime",X=t[5].publication_date),h(K,"class","subtitle"),h(z,"class","level-item has-text-centered"),h(nt,"class","heading"),h(st,"datetime",ot=t[5].date_updated),h(ct,"class","subtitle"),h(tt,"class","level-item has-text-centered"),h(A,"class","level card-footer-item"),h(ht,"href",vt=t[5].link.url),h(ht,"target","_blank"),h(ft,"class","card-footer-item is-hidden-mobile"),h(V,"class","card-footer"),h(gt,"href",bt=t[5].link.url),h(gt,"target","_blank"),h(gt,"class","button is-black is-medium is-fullwidth"),h(mt,"class","card-footer is-hidden-desktop"),h(n,"class","card"),h(e,"class","container"),M(wt,"margin","0 0 3rem")},m:function(t,o){i(t,e,o),k(e,n),k(n,r),k(r,a),k(a,c),k(c,s),k(n,v),k(n,p),k(p,m),k(m,g),k(p,I),k(p,_),k(_,R),k(R,D),k(n,L),k(n,V),k(V,A),k(A,$),k($,O),k(O,N),k(N,S),k(O,T),k(O,H),k(H,j),k(j,F),k(A,U),k(A,z),k(z,B),k(B,C),k(C,G),k(B,J),k(B,K),k(K,W),k(W,Q),k(A,Z),k(A,tt),k(tt,et),k(et,nt),k(nt,rt),k(et,at),k(et,ct),k(ct,st),k(st,it),k(V,lt),k(V,ft),k(ft,ut),k(ut,ht),k(ht,dt),k(n,pt),k(n,mt),k(mt,gt),k(gt,Et),i(t,yt,o),i(t,wt,o)},p:function(t,e){1&e&&kt!==(kt=t[5].display_title+"")&&x(s,kt),1&e&&d!==(d=t[5].link.url)&&h(c,"href",d),1&e&&xt!==(xt=t[5].summary_short+"")&&x(g,xt),1&e&&It!==(It=t[5].byline+"")&&x(D,It),1&e&&P!==(P="./reviews/".concat(Y(t[5].byline),"/"))&&h(R,"href",P),1&e&&_t!==(_t=t[5].opening_date+"")&&x(F,_t),1&e&&q!==(q=t[5].opening_date)&&h(j,"datetime",q),1&e&&Rt!==(Rt=t[5].publication_date+"")&&x(Q,Rt),1&e&&X!==(X=t[5].publication_date)&&h(W,"datetime",X),1&e&&Dt!==(Dt=t[5].date_updated+"")&&x(it,Dt),1&e&&ot!==(ot=t[5].date_updated)&&h(st,"datetime",ot),1&e&&Pt!==(Pt=t[5].link.suggested_link_text+"")&&x(dt,Pt),1&e&&vt!==(vt=t[5].link.url)&&h(ht,"href",vt),1&e&&bt!==(bt=t[5].link.url)&&h(gt,"href",bt)},d:function(t){t&&o(e),t&&o(yt),t&&o(wt)}}}function nt(t){var e,n;return{c:function(){e=l("p"),n=E("...waiting")},l:function(t){e=f(t,"P",{});var r=u(e);n=y(r,"...waiting"),r.forEach(o)},m:function(t,r){i(t,e,r),k(e,n)},p:v,d:function(t){t&&o(e)}}}function rt(t){var e,n,r,a,c,s,v,p,m,g,x,I,_,R,S=new K({props:{yearList:t[1]()}}),T={ctx:t,current:null,token:null,pending:nt,then:tt,catch:Z,value:3,error:4};return D(x=t[0],T),{c:function(){e=b(),n=l("div"),r=l("header"),a=l("div"),c=l("h1"),s=E("New York Times Movie Reviews"),v=b(),p=l("div"),P(S.$$.fragment),m=b(),g=l("div"),T.block.c(),I=b(),_=l("div"),this.h()},l:function(t){L('[data-svelte="svelte-40gz1s"]',Q.head).forEach(o),e=w(t),n=f(t,"DIV",{class:!0});var i=u(n);r=f(i,"HEADER",{class:!0});var l=u(r);a=f(l,"DIV",{class:!0});var h=u(a);c=f(h,"H1",{class:!0});var d=u(c);s=y(d,"New York Times Movie Reviews"),d.forEach(o),v=w(h),p=f(h,"DIV",{class:!0});var E=u(p);V(S.$$.fragment,E),E.forEach(o),h.forEach(o),l.forEach(o),m=w(i),g=f(i,"DIV",{id:!0});var b=u(g);T.block.l(b),b.forEach(o),i.forEach(o),I=w(t),_=f(t,"DIV",{id:!0}),u(_).forEach(o),this.h()},h:function(){Q.title="Reviews",h(c,"class","title is-full"),h(p,"class","subtitle is-full"),h(a,"class","bd-header-titles"),h(r,"class","bd-header is-flex"),h(g,"id","reviewsList"),h(n,"class","bd-main-container container"),h(_,"id","endPage")},m:function(t,o){i(t,e,o),i(t,n,o),k(n,r),k(r,a),k(a,c),k(c,s),k(a,v),k(a,p),A(S,p,null),k(n,m),k(n,g),T.block.m(g,T.anchor=null),T.mount=function(){return g},T.anchor=null,i(t,I,o),i(t,_,o),R=!0},p:function(e,n){var r=d(n,1)[0];if(t=e,T.ctx=t,1&r&&x!==(x=t[0])&&D(x,T));else{var a=t.slice();a[3]=T.resolved,T.block.p(a,r)}},i:function(t){R||($(S.$$.fragment,t),R=!0)},o:function(t){O(S.$$.fragment,t),R=!1},d:function(t){t&&o(e),t&&o(n),N(S),T.block.d(),T.token=null,T=null,t&&o(I),t&&o(_)}}}function at(t){return ct.apply(this,arguments)}function ct(){return(ct=I(_.mark(function t(e){var n,r,a;return _.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.page,e.session,e.query,t.next=3,this.fetch("https://api.nytimes.com/svc/movies/v2/reviews/search.json?api-key=".concat(j,"&critics-pick=Y&order=by-publication-date"));case 3:return n=t.sent,t.next=6,n.json();case 6:if(!(r=t.sent)){t.next=12;break}return a=r.results,t.abrupt("return",{articleList:a});case 12:throw new Error(r);case 13:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function st(t,e,n){var r=e.articleList;S(function(t){});return T(function(){var t=20,e=document.querySelector("#endPage");if("undefined"!=typeof IntersectionObserver){var a=new IntersectionObserver(function(){var e=I(_.mark(function e(a){var c;return _.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==a[0].isIntersecting){e.next=6;break}return e.next=3,F({offset:t});case 3:c=e.sent,n(0,r=r.concat(c)),t+=20;case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),{rootMargin:"0px 0px 300px 0px"});return a.observe(e),function(){return a.unobserve(e)}}var c=function t(){var n=e.getBoundingClientRect();intersecting=n.bottom+bottom>0&&n.right+right>0&&n.top-top<window.innerHeight&&n.left-left<window.innerWidth,intersecting&&once&&window.removeEventListener("scroll",t)};return window.addEventListener("scroll",c),function(){return window.removeEventListener("scroll",c)}}),t.$set=function(t){"articleList"in t&&n(0,r=t.articleList)},[r,function(){for(var t=[],e=1920;e<2021;e++)t.push(e.toString());return t}]}export default(function(s){t(o,c);var i=W(o);function o(t){var c;return e(this,o),c=i.call(this),n(a(c),t,st,rt,r,{articleList:0,allYears:1}),c}return R(o,[{key:"allYears",get:function(){return this.$$.ctx[1]}}]),o}());export{at as preload};
